# Software Design course 2022

Команда: Субботина Олеся, Анисимова Карина, Багрянова Катя

____

## Описание архитектуры

### MyShell

Основной класс, запуск происходит из него

* Стандартные потоки ввода и вывода
* Чтение запроса
* Вывод результата пользователю
* Запуск Preprocessing и Execution


### Preprocessing

Класс для предобработки запроса

* Предобработка: ищем доллары, смотрим до следующего доллара или пробела, делаем подстановку переменных. Здесь же происходит обработка квотирования. (Обновление текущих переменных окружения на ходу не поддерживается)


### Execution

Класс для выполнения запроса

* Метод executeAll: в цикле отрубает левые части запроса по пайпам, пока они не кончатся. Передает левую часть парсеру. Создает команду по результатам парсинга. Если команда поддерживаемая — отдаем ее конкретному классу для этой команды. Иначе отдаем в класс OuterCommand. Запускаем у команды метод execute. Получаем результат исполнения команды и передаем его по циклу следующей команде. Итоговый результат выводим в консоль.
* Класс Parser: парсит строку на команду и аргументы


### Abstract Command

Абстрактный класс, описывающий функциональность команды

* Поля: аргументы (массив строк, в каждой конкретной команде будем кастовать), logger, exit code
* Методы: execute — выполняет команду и возвращает результат и exit code; валидация — проверяет корректность аргументов
* От него наследуются классы конкретных команд, класс внешних команд, класс для обработки присваивания

### Environment

Класс, в котором хранятся переменные окружения — словарь

____

## Схема архитектуры

<br></br>
![architecture](assets/architecture.png)
<br></br>
